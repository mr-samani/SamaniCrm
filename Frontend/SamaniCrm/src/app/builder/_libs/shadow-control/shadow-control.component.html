<div class="box-container">
  <div class="preview">
    <div class="simulator pad-container" #pad (mousedown)="onPadClick($event)" (touchstart)="onPadClick($event)">
      <div class="card-sample" [style.boxShadow]="selectedShadow?.cssValue"></div>
       <svg
        class="flashlight-svg"
        viewBox="0 0 640 512"
        xmlns="http://www.w3.org/2000/svg"
        #flashlight
        [style.left.px]="x"
        [style.top.px]="y"
        (mousedown)="dragStart($event)"
        (touchstart)="dragStart($event)">
        <defs>
          <style>
            .fa-secondary {
              opacity: 0.4;
            }
          </style>
        </defs>
        <path
          class="fa-primary"
          d="M607.1 96h-32v320h32c17.62 0 32-14.38 32-32V128C639.1 110.4 625.6 96 607.1 96zM287.1 224h-32c-17.62 0-32 14.38-32 32s14.38 32 32 32h32c17.62 0 32-14.38 32-32S305.6 224 287.1 224z" />
        <path
          class="fa-secondary"
          d="M400.1 149.2L383.1 160H31.1c-17.62 0-32 14.38-32 32v128c0 17.62 14.38 32 32 32h352l16.12 10.75C443.2 391.5 511.1 416 575.1 416V96C511.1 96 443.2 120.5 400.1 149.2zM287.1 288h-32c-17.62 0-32-14.38-32-32s14.38-32 32-32h32c17.62 0 32 14.38 32 32S305.6 288 287.1 288z" />
      </svg>
    </div>
    <div class="result">
      <div class="card-sample" [style.boxShadow]="result"></div>
    </div>
  </div>

  <div class="list-box">
    @for (item of shadows; let i = $index; track i) {
      <div class="list-item" [class.active]="item == selectedShadow" (click)="selectedShadow = item; selectedIndex = i">
        {{ item.cssValue }}
        <button (click)="removeShadow(i)">Remove</button>
      </div>
    }
  </div>
</div>

<div *ngIf="selectedShadow" class="shadow-item">
  {{ selectedShadow.cssValue }}
  <label>Inset</label>
  <input type="checkbox" [(ngModel)]="selectedShadow.inset" (change)="updateShadow({ inset: selectedShadow.inset })" />

  <label>X Offset</label>
  <input
    type="number"
    [(ngModel)]="selectedShadow.xOffset"
    (change)="updateShadow({ xOffset: selectedShadow.xOffset })" />

  <label>Y Offset</label>
  <input
    type="number"
    [(ngModel)]="selectedShadow.yOffset"
    (change)="updateShadow({ yOffset: selectedShadow.yOffset })" />

  <label>Blur Radius</label>
  <input
    type="number"
    [(ngModel)]="selectedShadow.blurRadius"
    min="0"
    (change)="updateShadow({ blurRadius: selectedShadow.blurRadius })" />

  <label>Spread Radius</label>
  <input
    type="number"
    [(ngModel)]="selectedShadow.spreadRadius"
    (change)="updateShadow({ spreadRadius: selectedShadow.spreadRadius })" />

  <label>Color</label>
  <input type="text" [(ngModel)]="selectedShadow.color" (change)="updateShadow({ color: selectedShadow.color })" />

  <label>Unit</label>
  <select [(ngModel)]="selectedShadow.unit" (change)="updateShadow({ unit: selectedShadow.unit })">
    <option value="px">px</option>
    <option value="rem">rem</option>
    <option value="em">em</option>
  </select>
</div>

<button (click)="addShadow()">Add Shadow</button>
