<div class="input-style" [title]="label">
  <span>{{ label }}</span>
  <input
    type="text"
    class="form-control"
    name="spacing"
    #spacing="ngModel"
    [(ngModel)]="spacingString"
    (change)="stringChange()"
    [pattern]="spacingRegex" />
  <button class="btn py-0" (click)="togglePanel()">
    <i class="fa fa-pen-to-square"></i>
  </button>
</div>
<p *ngIf="spacing.hasError('pattern')" class="text-danger">Invalid spacing value</p>

<div class="panel-back-drop" *ngIf="showPopup" (click)="showPopup = false"></div>
<div class="popup-container" *ngIf="showPopup && value" [style.top.px]="top" [style.left.px]="left">
  <div class="d-flex align-items-center justify-content-between">
    <div class="btn-group" role="group">
      <input
        type="radio"
        class="btn-check"
        name="selectBorderType"
        id="SAllBorder"
        autocomplete="off"
        [(ngModel)]="allBorder"
        (ngModelChange)="onChangeAllBorder()"
        [value]="true" />
      <label class="btn" for="SAllBorder" title="All Border">
        <i class="fa fa-border-outer"></i>
        All
      </label>
      <input
        type="radio"
        class="btn-check"
        name="selectBorderType"
        id="SIndividualBorder"
        autocomplete="off"
        [(ngModel)]="allBorder"
        (ngModelChange)="onChangeAllBorder()"
        [value]="false" />
      <label class="btn" for="SIndividualBorder" title=" Individual Border">
        <i class="fa fa-expand"></i>
        Individual
      </label>
    </div>
    <button class="btn" (click)="showPopup = false"><i class="fa fa-times"></i></button>
  </div>

  @if (allBorder) {
    <div class="d-flex align-items-center justify-content-center py-5">
      <div class="input-style">
        <span>All</span>
        <input
          type="number"
          [(ngModel)]="allSpaceing.size"
          *ngIf="allSpaceing.unit != 'auto'"
          (change)="changeAllSpacing()"
          class="fw-100px" />
        <select class="fw-50px" [(ngModel)]="allSpaceing.unit" (change)="changeAllSpacing()">
          <option [value]="val" *ngFor="let val of sizeUnitList">
            {{ val }}
          </option>
        </select>
      </div>
    </div>
  } @else {
    <div class="place-top">
      <div class="mb-3 input-style" *ngIf="value.top">
        <span>Top</span>
        <input
          class="fw-50px"
          type="number"
          [(ngModel)]="value.top.size"
          *ngIf="value.top.unit != 'auto'"
          (change)="onUiChange()" />
        <select
          class="select-unit"
          [class.fw-100px]="value.top.unit == 'auto'"
          [(ngModel)]="value.top.unit"
          (change)="onUiChange()">
          <option [value]="val" *ngFor="let val of sizeUnitList">
            {{ val }}
          </option>
        </select>
      </div>
    </div>

    <div class="place-left-right">
      <div class="mb-3 input-style" *ngIf="value.left">
        <span>Left</span>

        <input
          class="fw-50px"
          type="number"
          [(ngModel)]="value.left.size"
          *ngIf="value.left.unit != 'auto'"
          (change)="onUiChange()" />
        <select
          class="select-unit"
          [class.fw-100px]="value.left.unit == 'auto'"
          [(ngModel)]="value.left.unit"
          (change)="onUiChange()">
          <option [value]="val" *ngFor="let val of sizeUnitList">
            {{ val }}
          </option>
        </select>
      </div>

      <div class="mb-3 input-style" *ngIf="value.right">
        <span>Right</span>
        <input
          class="fw-50px"
          type="number"
          [(ngModel)]="value.right.size"
          *ngIf="value.right.unit != 'auto'"
          (change)="onUiChange()" />
        <select
          class="select-unit"
          [class.fw-100px]="value.right.unit == 'auto'"
          [(ngModel)]="value.right.unit"
          (change)="onUiChange()">
          <option [value]="val" *ngFor="let val of sizeUnitList">
            {{ val }}
          </option>
        </select>
      </div>
    </div>

    <div class="place-bottom">
      <div class="mb-3 input-style" *ngIf="value.bottom">
        <span>Bottom</span>
        <input
          class="fw-50px"
          type="number"
          [(ngModel)]="value.bottom.size"
          *ngIf="value.bottom.unit != 'auto'"
          (change)="onUiChange()" />
        <select
          class="select-unit"
          [class.fw-100px]="value.bottom.unit == 'auto'"
          [(ngModel)]="value.bottom.unit"
          (change)="onUiChange()">
          <option [value]="val" *ngFor="let val of sizeUnitList">
            {{ val }}
          </option>
        </select>
      </div>
    </div>
  }
  <!-- <pre style="direction: ltr; text-align: left">{{ value | json }}</pre> -->
</div>
