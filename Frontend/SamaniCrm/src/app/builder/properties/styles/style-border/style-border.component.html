<div class="btn-group" role="group">
  <button type="button" class="btn" [class.active]="value && value.forAll" (click)="onSelectForAll(true)">
    <i class="fa fa-border-outer"></i>
  </button>
  <button type="button" class="btn" [class.active]="value && !value.forAll" (click)="onSelectForAll(false)">
    <i class="fa fa-border-top-left"></i>
  </button>
  <button type="button" class="btn" (click)="value = undefined; emitChange()" [class.active]="!value">
    <i class="fa fa-times"></i>
  </button>
</div>
@if (value && value.forAll) {
  <ng-container
    [ngTemplateOutlet]="BORDER"
    [ngTemplateOutletContext]="{ $implicit: value.border, title: 'Border', name: 'border' }"></ng-container>
} @else if (value && !value.forAll) {
  <ng-container
    [ngTemplateOutlet]="BORDER"
    [ngTemplateOutletContext]="{ $implicit: value.borderTop, title: 'BorderTop', name: 'borderTop' }"></ng-container>
  <ng-container
    [ngTemplateOutlet]="BORDER"
    [ngTemplateOutletContext]="{
      $implicit: value.borderRight,
      title: 'BorderRight',
      name: 'borderRight',
    }"></ng-container>
  <ng-container
    [ngTemplateOutlet]="BORDER"
    [ngTemplateOutletContext]="{
      $implicit: value.borderBottom,
      title: 'BorderBottom',
      name: 'borderBottom',
    }"></ng-container>
  <ng-container
    [ngTemplateOutlet]="BORDER"
    [ngTemplateOutletContext]="{ $implicit: value.borderLeft, title: 'BorderLeft', name: 'borderLeft' }"></ng-container>
}

<ng-template #BORDER let-border let-title="title" let-name="name">
  <div>
    <b>{{ title }}</b>
  </div>
  <div class="d-flex my-2" *ngIf="border">
    <button class="btn" (click)="remove(name)">
      <i class="fa fa-trash"></i>
    </button>
    <div class="col">
      <span>Width</span>
      <div class="input-group">
        <input type="number" class="form-control" [(ngModel)]="border.width" (change)="onUiChange()" />
        <select class="form-control sel-prefix" [(ngModel)]="border.prefix" (change)="onUiChange()">
          <option [value]="val" *ngFor="let val of sizePrefixList">
            {{ val }}
          </option>
        </select>
      </div>
    </div>
    <div class="m-w-50">
      <span>Color</span>
      <input type="color" class="input-color" [(ngModel)]="border.color" (ngModelChange)="onUiChange()" />
    </div>
    <div class="col">
      <span>Type</span>
      <select class="form-select" [(ngModel)]="border.type" (change)="onUiChange()">
        <option [value]="val" *ngFor="let val of borderTypeList">
          {{ val }}
        </option>
      </select>
    </div>
  </div>
</ng-template>
